import { test, describe, expect } from "vitest";
import { mount } from "@vue/test-utils";
import { pinia } from "@/tests/mockpinia";
import EditProduct from "@/pages/product/edit-product.vue";
import { useNavStore } from "~/stores/NavStore";
// import { definePageMeta } from '#imports'

describe("AddingStyle", () => {
    const navStore = useNavStore(pinia);
    const wrapper = mount(EditProduct);
    test("rendering  add product component :",() => {
        expect(wrapper.exists()).toBe(true)
    })
    test("renders add form elements : ",async()=>{
        const formElement = wrapper.findAll("el-form");
        expect(formElement).toHaveLength(1);

        const formInput = wrapper.findAll("el-input");
        expect(formInput).toHaveLength(2);

        const formSelect = wrapper.findAll("el-select");
        expect(formSelect).toHaveLength(1);
    })
    test("buttons clickable and renders:",async()=>{
        const buttons = wrapper.findAll(".btn");
        expect(buttons).toHaveLength(2)
       

        buttons.map(async(e)=>{
            await e.trigger("click")
        })
        expect(buttons[0].text()).toBe("Cancel");
        expect(buttons[1].text()).toBe("Save");
    })
    test("heading title",()=>{
        expect(wrapper.find("h3").text()).toBe("Edit Product Details");
        expect(wrapper.find("p").text()).toBe("Edit details of product.");
    })
   
});                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
