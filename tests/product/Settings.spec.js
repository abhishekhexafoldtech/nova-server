import { test, describe, expect } from "vitest";
import { mount } from "@vue/test-utils";
import { pinia } from "@/tests/mockpinia";
import Settings from "@/pages/product/settings.vue";
import { useNavStore } from "~/stores/NavStore";
import Table from "@/components/tables/Table.vue";
import DialogStatus from "@/components/Dialog/Status.vue";

describe("Product settings", () => {
    const navStore = useNavStore(pinia);
    const wrapper = mount(Settings);
    test("rendering  add product component :",() => {
        expect(wrapper.exists()).toBe(true)
    })
    test("renders headers text :",() => {
        const headers = wrapper.findAll("h4")
        expect(headers[0].text()).toBe("Product Settings");
    })
    test("renders buttons, text and clickable  :",async() => {
        const buttons = wrapper.findAll(".btn");
        expect(buttons).toHaveLength(3)

        expect(buttons[0].text()).toBe("Add Product Category & Subcategory");
        expect(buttons[1].text()).toBe("Cancel");
        expect(buttons[2].text()).toBe("Save");

    })
    test("rendering the table component : ",()=>{
        const tab = wrapper.findComponent(Table);
        expect(tab.exists()).toBe(true)
    })
    test("rendering the Dialog box component : ",()=>{
        const dialog = wrapper.findComponent(DialogStatus);
        expect(dialog.exists()).toBe(true)
    })
});                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
