import { test, describe, expect } from "vitest";
import { mount } from "@vue/test-utils";
import { pinia } from "@/tests/mockpinia";
import Details from "@/pages/product/[slug]/index.vue";
import ProductDetails from "@/components/products/ProductDetails.vue";
import ProductStyle from "@/components/products/ProductStyle.vue";
import { useNavStore } from "~/stores/NavStore";
// import { definePageMeta } from '#imports'

describe("Product Details", () => {
    const navStore = useNavStore(pinia);
    const wrapper = mount(Details);
    test("rendering  add product component :",() => {
        expect(wrapper.exists()).toBe(true)
    })
    test("renders product details component :",()=>{
        const detailsComponent = wrapper.findComponent(ProductDetails)
        expect(detailsComponent.exists()).toBe(true)
    })
    test("renders product styles component :",()=>{
        const productStyleComponent = mount(ProductStyle);

        const headings = productStyleComponent.findAll("h4");
        expect(headings[0].text()).toBe("Product Style");
        
        const formRows = productStyleComponent.findAll("el-row");
        expect(formRows).toHaveLength(1);
        
    })
});                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
